<!DOCTYPE html>
<html lang="en">
<head>
<!-- Sep 03, 2024 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Jekyll Forman Guard Bundler</title>
<meta name="author" content="Vincent Demeester" />
<meta name="generator" content="Org Mode" />
<link rel='icon' type='image/x-icon' href='/images/favicon.ico'/>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<link rel='stylesheet' href='/css/new.css' type='text/css'/>
<link rel='stylesheet' href='/css/syntax.css' type='text/css'/>
<link href='/index.xml' rel='alternate' type='application/rss+xml' title='Vincent Demeester' />
</head>
<body>
<main id="content" class="content">
<header>
<h1 class="title">Jekyll Forman Guard Bundler</h1>
</header><section id="outline-container-Introduction" class="outline-2">
<h2 id="Introduction">Introduction</h2>
<div class="outline-text-2" id="text-Introduction">
<p>
This post is a quick &ldquo;How did I setup my Jekyll environnement ?&rdquo;. We are
going all the tools that are quite awesome in Ruby.
</p>
</div>
</section>
<section id="outline-container-goal" class="outline-2">
<h2 id="goal">Goal</h2>
<div class="outline-text-2" id="text-goal">
<p>
The goal is simple :
</p>

<ol class="org-ol">
<li>I want to be able to install any dependent
<a href="http://rubygems.org">Gem</a> with a <i>on-liner</i> command</li>
<li>I want to be able to run a <i>Jekyll server</i> that auto updates.</li>
</ol>

<p>
We are going to play with : <a href="http://gembundler.com/">Bundler</a>,
<a href="https://github.com/guard/guard">Guard</a> and
<a href="https://github.com/ddollar/foreman">foreman</a>.
</p>
</div>
</section>
<section id="outline-container-bundler" class="outline-2">
<h2 id="bundler">Bundler</h2>
<div class="outline-text-2" id="text-bundler">
<p>
Bundler let us run <code>bundle install</code> to get all Ruby Gems we will need ;
It use a file name <code>Gemfile</code>. The gems we need are simple : <code>jekyll</code>,
<code>guard</code> and some Guard extensions.
</p>

<div class="org-src-container">
<pre class="src src-ruby">source "http://rubygems.org"

gem 'jekyll'
gem 'guard'
gem 'guard-jekyll2'
gem 'guard-shell'
gem 'guard-bundler'
</pre>
</div>
</div>
</section>
<section id="outline-container-guard" class="outline-2">
<h2 id="guard">Guard</h2>
<div class="outline-text-2" id="text-guard">
<blockquote>
<p>
Guard is a command line tool to easily handle events on file system
modifications.
</p>
</blockquote>

<p>
Guard will be watching file we told him and run action in consequence ;
The file is name <code>Guardfile</code>.
</p>

<div class="org-src-container">
<pre class="src src-ruby">guard 'jekyll2' do
  watch %r{.*}
end

guard :bundler do
  watch('Gemfile')
end
# vim:filetype=ruby
</pre>
</div>
</div>
</section>
<section id="outline-container-foreman" class="outline-2">
<h2 id="foreman">Foreman</h2>
<div class="outline-text-2" id="text-foreman">
<p>
Finally, foreman will let us declare our processes and will handle the
start, forward the output and handle the shutdown. It can then export
its configuration into more <i>production-ready</i> file (<code>init</code>, <code>upstard</code>,
&#x2026;) ; It uses a file named <code>Procfile</code>.
</p>

<p>
We will tell foreman to run :
</p>

<ul class="org-ul">
<li>The jekyll build-in server : <code>jekyll --server</code></li>
<li>Guard, to handle file changes <i>in background</i>.</li>
</ul>

<div class="org-src-container">
<pre class="src src-bash">web: bundle exec jekyll --server
guard: bundle exec guard
</pre>
</div>

<p>
And that&rsquo;s all folk. Now, you just need to run foreman in the
Jekyll-powered directory and edit your files.
</p>
</div>
</section>
</main>
<footer id="postamble" class="status">
<footer>
     <small><a href="/" rel="history">Index</a> • <a href="/sitemap.html">Sitemap</a> • <a href="https://dl.sbr.pm/">Files</a></small><br/>
     <small class='questions'>Questions, comments ? Please use my <a href="https://lists.sr.ht/~vdemeester/public-inbox">public inbox</a> by sending a plain-text email to <a href="mailto:~vdemeester/public-inbox@lists.sr.ht">~vdemeester/public-inbox@lists.sr.ht</a>.</small><br/>
     <small class='copyright'>
      Content and design by Vincent Demeester
      (<a rel='licence' href='http://creativecommons.org/licenses/by-nc-sa/3.0/'>Some rights reserved</a>)
    </small><br />
</footer>
</footer>
</body>
</html>
